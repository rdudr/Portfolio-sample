<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Row Carousel Test</title>
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/variables.css">
  <link rel="stylesheet" href="css/layout.css">
  <link rel="stylesheet" href="css/components.css">
  <link rel="stylesheet" href="css/animations.css">
  <style>
    body {
      background-color: #141414;
      padding: 2rem;
      min-height: 100vh;
    }

    .test-container {
      max-width: 1400px;
      margin: 0 auto;
    }

    .test-header {
      color: #fff;
      margin-bottom: 2rem;
      text-align: center;
    }

    .test-header h1 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }

    .test-header p {
      color: #b3b3b3;
      font-size: 1rem;
    }

    .test-section {
      margin-bottom: 3rem;
    }

    .test-label {
      color: #fff;
      font-size: 0.875rem;
      margin-bottom: 1rem;
      padding: 0.5rem 1rem;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 4px;
      display: inline-block;
    }

    .controls {
      margin-top: 1rem;
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .control-btn {
      padding: 0.5rem 1rem;
      background: rgba(255, 255, 255, 0.1);
      color: #fff;
      border: 1px solid rgba(255, 255, 255, 0.3);
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.875rem;
      transition: all 0.2s;
    }

    .control-btn:hover {
      background: rgba(255, 255, 255, 0.2);
      border-color: rgba(255, 255, 255, 0.5);
    }

    .status {
      margin-top: 1rem;
      padding: 1rem;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 4px;
      color: #b3b3b3;
      font-size: 0.875rem;
      font-family: monospace;
    }
  </style>
</head>
<body>
  <div class="test-container">
    <div class="test-header">
      <h1>Row Carousel Component Test</h1>
      <p>Testing horizontal scrolling, touch gestures, and navigation arrows</p>
    </div>

    <!-- Test 1: Basic Carousel with Many Cards -->
    <div class="test-section">
      <div class="test-label">Test 1: Basic Carousel (12 cards)</div>
      <section class="content-row" data-category="test-1">
        <h2 class="row-title">Sample Content Row</h2>
        <div class="row-carousel" id="carousel-1">
          <button class="carousel-arrow carousel-arrow-left" aria-label="Scroll left">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="15 18 9 12 15 6"></polyline>
            </svg>
          </button>
          <div class="carousel-track">
            <!-- Cards will be generated by JavaScript -->
          </div>
          <button class="carousel-arrow carousel-arrow-right" aria-label="Scroll right">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="9 18 15 12 9 6"></polyline>
            </svg>
          </button>
        </div>
      </section>
      <div class="controls">
        <button class="control-btn" onclick="testScrollLeft(1)">Scroll Left</button>
        <button class="control-btn" onclick="testScrollRight(1)">Scroll Right</button>
        <button class="control-btn" onclick="testScrollToCard(1, 5)">Scroll to Card 5</button>
        <button class="control-btn" onclick="testScrollToStart(1)">Scroll to Start</button>
      </div>
      <div class="status" id="status-1">Ready</div>
    </div>

    <!-- Test 2: Carousel with Few Cards -->
    <div class="test-section">
      <div class="test-label">Test 2: Small Carousel (4 cards - arrows should hide when not needed)</div>
      <section class="content-row" data-category="test-2">
        <h2 class="row-title">Small Content Row</h2>
        <div class="row-carousel" id="carousel-2">
          <button class="carousel-arrow carousel-arrow-left" aria-label="Scroll left">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="15 18 9 12 15 6"></polyline>
            </svg>
          </button>
          <div class="carousel-track">
            <!-- Cards will be generated by JavaScript -->
          </div>
          <button class="carousel-arrow carousel-arrow-right" aria-label="Scroll right">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="9 18 15 12 9 6"></polyline>
            </svg>
          </button>
        </div>
      </section>
      <div class="status" id="status-2">Ready</div>
    </div>

    <!-- Test 3: Mobile Responsive Test -->
    <div class="test-section">
      <div class="test-label">Test 3: Touch Gesture Test (try swiping on mobile/trackpad)</div>
      <section class="content-row" data-category="test-3">
        <h2 class="row-title">Touch Gesture Test</h2>
        <div class="row-carousel" id="carousel-3">
          <button class="carousel-arrow carousel-arrow-left" aria-label="Scroll left">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="15 18 9 12 15 6"></polyline>
            </svg>
          </button>
          <div class="carousel-track">
            <!-- Cards will be generated by JavaScript -->
          </div>
          <button class="carousel-arrow carousel-arrow-right" aria-label="Scroll right">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="9 18 15 12 9 6"></polyline>
            </svg>
          </button>
        </div>
      </section>
      <div class="status" id="status-3">Try swiping left/right on the carousel</div>
    </div>
  </div>

  <script src="js/row-carousel.js"></script>
  <script>
    // Store carousel instances
    const carousels = {};

    // Generate sample cards
    function generateCards(trackElement, count) {
      const colors = ['#e50914', '#0080ff', '#00c853', '#ff6d00', '#9c27b0', '#00bcd4'];
      
      for (let i = 1; i <= count; i++) {
        const card = document.createElement('article');
        card.className = 'content-card';
        card.setAttribute('data-slug', `item-${i}`);
        card.setAttribute('role', 'button');
        card.setAttribute('tabindex', '0');
        
        const color = colors[i % colors.length];
        
        card.innerHTML = `
          <div class="card-image-container" style="background: linear-gradient(135deg, ${color} 0%, ${color}99 100%);">
            <div class="card-overlay"></div>
          </div>
          <div class="card-info">
            <h3 class="card-title">Card ${i}</h3>
            <p class="card-subtitle">Sample subtitle</p>
            <p class="card-meta">2024</p>
          </div>
          <div class="card-hover-details">
            <p class="card-description">This is card number ${i} with some sample description text.</p>
          </div>
        `;
        
        trackElement.appendChild(card);
      }
    }

    // Initialize carousels
    function initCarousel(id, cardCount) {
      const carouselElement = document.getElementById(id);
      const track = carouselElement.querySelector('.carousel-track');
      
      // Generate cards
      generateCards(track, cardCount);
      
      // Create and initialize RowCarousel
      const carousel = new RowCarousel(carouselElement);
      carousel.init();
      
      // Store reference
      carousels[id] = carousel;
      
      // Update status
      updateStatus(id, `Initialized with ${cardCount} cards`);
      
      // Add scroll listener for status updates
      track.addEventListener('scroll', () => {
        const scrollPercent = Math.round((track.scrollLeft / (track.scrollWidth - track.offsetWidth)) * 100);
        updateStatus(id, `Scroll position: ${Math.round(track.scrollLeft)}px (${scrollPercent}%)`);
      });
    }

    // Test functions
    function testScrollLeft(carouselNum) {
      const id = `carousel-${carouselNum}`;
      if (carousels[id]) {
        carousels[id].scrollLeft();
        updateStatus(id, 'Scrolling left...');
      }
    }

    function testScrollRight(carouselNum) {
      const id = `carousel-${carouselNum}`;
      if (carousels[id]) {
        carousels[id].scrollRight();
        updateStatus(id, 'Scrolling right...');
      }
    }

    function testScrollToCard(carouselNum, cardIndex) {
      const id = `carousel-${carouselNum}`;
      if (carousels[id]) {
        carousels[id].scrollToCard(cardIndex);
        updateStatus(id, `Scrolling to card ${cardIndex}...`);
      }
    }

    function testScrollToStart(carouselNum) {
      const id = `carousel-${carouselNum}`;
      if (carousels[id]) {
        carousels[id].smoothScrollTo(0);
        updateStatus(id, 'Scrolling to start...');
      }
    }

    function updateStatus(id, message) {
      const statusElement = document.getElementById(`status-${id.split('-')[1]}`);
      if (statusElement) {
        statusElement.textContent = message;
      }
    }

    // Initialize all test carousels
    document.addEventListener('DOMContentLoaded', () => {
      initCarousel('carousel-1', 12);
      initCarousel('carousel-2', 4);
      initCarousel('carousel-3', 10);
      
      console.log('Row Carousel tests initialized');
      console.log('Test features:');
      console.log('- Horizontal scrolling with smooth behavior');
      console.log('- Navigation arrows (hide at start/end)');
      console.log('- Touch gesture support (swipe left/right)');
      console.log('- Mouse drag scrolling');
      console.log('- Momentum scrolling with snap-to-card');
      console.log('- Fade edge indicators');
    });
  </script>
</body>
</html>
